<!-- <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Resistor Ratio Finder</title>
<style>
body {
  font-family: system-ui, sans-serif;
  background: linear-gradient(60deg, rgb(19, 13, 45) 0%, rgb(10, 94, 105) 100%);
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2rem;
}
.container {
  background: rgba(255,255,255,0.1);
  border-radius: 1rem;
  padding: 2rem;
  max-width: 500px;
  width: 100%;
  box-shadow: 0 0 10px rgba(0,0,0,0.4);
}
h1 {
  text-align: center;
  margin-bottom: 1.5rem;
}
label {
  display: block;
  margin-top: 0.75rem;
  font-weight: 500;
}
input, select, button {
  width: 100%;
  margin-top: 0.25rem;
  padding: 0.5rem;
  border: none;
  border-radius: 0.5rem;
  font-size: 1rem;
}
button {
  background-color: rgb(10, 94, 105);
  color: white;
  margin-top: 1rem;
  cursor: pointer;
}
button:hover {
  background-color: rgb(13, 120, 135);
}
.result {
  margin-top: 1.5rem;
  font-size: 1.1rem;
  background: rgba(0,0,0,0.2);
  padding: 1rem;
  border-radius: 0.5rem;
}
</style>
</head> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home</title>
    <link rel="icon" href="images/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">    
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body class="bg-custom">
<nav class="navbar fixed-top navbar-expand-lg bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"> 
            <img src="../images/logo.png" alt="ENW" width="40" height="40"> 
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
            <a class="nav-link" aria-current="page" href="../index.html">Home</a>
            <a class="nav-link" href="../portfolio.html">Portfolio</a>
            <a class="nav-link" href="../resume.html">Resume</a>
            <a class="nav-link active" href="../calculators.html">Calculators</a>
            <!-- <a class="nav-link disabled">Random</a> -->
        </div>
        </div>
    </div>
</nav>
<div class="topOffset">
    <!-- nothing -->
</div>

<div class="calc_container">
    <h1 class="calc">Resistor Ratio Finder</h1>

    <label class="calc" for="tolerance">Tolerance:</label>
    <select class="calc" id="tolerance">
        <option value="E24">5% (E24)</option>
        <option value="E96" selected>1% (E96)</option>
        <option value="E192">0.1% (E192)</option>
    </select>

    <label class="calc" for="rmin">Minimum Resistance (Ω):</label>
    <input class="calc" type="number" id="rmin" value="1000" step="1">

    <label class="calc" for="rmax">Maximum Resistance (Ω):</label>
    <input class="calc" type="number" id="rmax" value="50000" step="1">

    <label class="calc" for="ratio">Target Ratio (R1/R2):</label>
    <input class="calc" type="number" id="ratio" value="8.375" step="0.001">

    <button class="tool_button" onclick="findBest()">Find Best Pair</button>

    <div id="calc_result" class="calc_result"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>
const series = {
  // E24 5% (24 values per decade)
  E24: [10, 10.2, 10.5, 11, 11.3, 12, 12.7, 13, 15, 16, 18, 20, 22, 24, 27, 30, 33, 36, 39, 43, 47, 51, 56, 62, 68, 75, 82, 91],
  // E96 1% (96 values per decade)
  E96: [10.0, 10.2, 10.5, 10.7, 11.0, 11.3, 11.5, 11.8, 12.1, 12.4, 12.7, 13.0, 13.3, 13.7, 14.0, 14.3, 14.7, 15.0, 15.4, 15.8, 16.2, 16.5, 16.9, 17.4, 17.8, 18.2, 18.7, 19.1, 19.6, 20.0, 20.5, 21.0, 21.5, 22.1, 22.6, 23.2, 23.7, 24.3, 24.9, 25.5, 26.1, 26.7, 27.4, 28.0, 28.7, 29.4, 30.1, 30.9, 31.6, 32.4, 33.2, 34.0, 34.8, 35.7, 36.5, 37.4, 38.3, 39.2, 40.2, 41.2, 42.2, 43.2, 44.2, 45.3, 46.4, 47.5, 48.7, 49.9, 51.1, 52.3, 53.6, 54.9, 56.2, 57.6, 59.0, 60.4, 61.9, 63.4, 64.9, 66.5, 68.1, 69.8, 71.5, 73.2, 75.0, 76.8, 78.7, 80.6, 82.5, 84.5, 86.6, 88.7, 90.9, 93.1, 95.3, 97.6],
  // E192 0.1% (192 values per decade — truncated list, extend as needed)
  E192: [10.0, 10.1, 10.2, 10.3, 10.4, 10.5, 10.6, 10.7, 10.8, 10.9, 11.0, 11.1, 11.2, 11.3, 11.4, 11.5, 11.6, 11.7, 11.8, 11.9, 12.0, 12.1, 12.2, 12.3, 12.4, 12.5, 12.6, 12.7, 12.8, 12.9, 13.0] // shortened
};

function findBest() {
  const tol = document.getElementById('tolerance').value;
  const Rmin = parseFloat(document.getElementById('rmin').value);
  const Rmax = parseFloat(document.getElementById('rmax').value);
  const target = parseFloat(document.getElementById('ratio').value);
  const mults = series[tol];

  let bestR1 = 0, bestR2 = 0, bestRatio = 0, bestErr = Infinity;

  for (let d1 = -1; d1 <= 7; d1++) {
    for (let m1 of mults) {
      const R1 = m1 * Math.pow(10, d1);
      if (R1 < Rmin || R1 > Rmax) continue;
      for (let d2 = -1; d2 <= 7; d2++) {
        for (let m2 of mults) {
          const R2 = m2 * Math.pow(10, d2);
          if (R2 < Rmin || R2 > Rmax) continue;

          const ratio = R1 / R2;
          const err = Math.abs((ratio - target) / target);
          if (err < bestErr) {
            bestErr = err;
            bestR1 = R1;
            bestR2 = R2;
            bestRatio = ratio;
          }
        }
      }
    }
  }

  const resultDiv = document.getElementById('calc_result');
  if (bestErr < Infinity) {
    resultDiv.innerHTML = `
      <strong>Best Match:</strong><br>
      R₁ = ${bestR1.toFixed(2)} Ω<br>
      R₂ = ${bestR2.toFixed(2)} Ω<br>
      Ratio = ${bestRatio.toFixed(4)}<br>
      Error = ${(bestErr * 100).toFixed(4)}%
    `;
  } else {
    resultDiv.innerHTML = "No valid resistor pair found in the given range.";
  }
}
</script>
</body>
</html>
